# Railway MySQL config for Spring Boot (canonical keys, no embedded secrets)
app.db.enabled=true

# Database placeholders (provide these as environment variables or in render.env)
MYSQL_DATABASE=railway
# Do NOT store passwords here; set `MYSQL_ROOT_PASSWORD` and other secrets via environment
# MYSQL_ROOT_PASSWORD should be supplied by your deployment secret store
MYSQLUSER=root
MYSQLPASSWORD=${MYSQL_ROOT_PASSWORD}
MYSQLPORT=3306
MYSQLHOST=${RAILWAY_PRIVATE_DOMAIN}

# Proxy/domain from Railway (use actual values in render.env)
RAILWAY_TCP_PROXY_DOMAIN=shortline.proxy.rlwy.net
RAILWAY_TCP_PROXY_PORT=43400

# Use the proxy domain/port to build the datasource URL at runtime
spring.datasource.url=jdbc:mysql://${RAILWAY_TCP_PROXY_DOMAIN}:${RAILWAY_TCP_PROXY_PORT}/${MYSQL_DATABASE}
spring.datasource.username=${MYSQLUSER}
spring.datasource.password=${MYSQLPASSWORD}
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

spring.jpa.database-platform=org.hibernate.dialect.MySQL8Dialect
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.open-in-view=false
